		INSTALL Instructions for fetchmail

If you have installed binaries (e.g. from an RPM) you can skip to step 4.

If you are a Linux system packager, be aware that the build process generates
an RPM spec file at fetchmail.spec.

1. CONFIGURE

Installing fetchmail is easy.  From within this directory, type:

	./configure

The autoconfiguration script will spend a bit of time figuring out the
specifics of your system.  If you want to specify a particular compiler
(e.g. you have gcc but want to compile with cc), set the environment 
variable CC before you run configure.  

The configure script accepts certain standard configuration options.
These include --prefix, --exec-prefix, --bindir, --infodir, --mandir,
and --srcdir.  Do `config --help' for more.

If you're running QNX, edit the distributed Makefile directly.  The
QNX values for various macros are there but commented out; all you
have to do is uncomment them.

2. MAKE 

Next run

	make

This will compile fetchmail for your system.  Note that in order to
build it, you'll need either flex at version 2.5.3 or greater, or lex.

If mxget.c fails to compile, your DNS-query support isn't compatible
with BSD's and Linux's.  Manually undefine HAVE_GETHOSTBYNAME in
config.h and rebuild.  You'll lose the multidrop-mailbox feature and
Kerberos option, but nothing else.

3. INSTALL

Lastly, become root and run

	make install

This will install fetchmail.  By default, fetchmail will be installed
in /usr/local/bin, with the man page in /usr/local/man/man1.  If you
wish to change these defaults, edit the Makefile AFTER you run
"configure" but BEFORE you run "make install."  You can easily choose
a prefix other than /usr/local, or you can choose completely different
directories for each item.

NOTE: If you are using exim, you must configure it to accept local
addresses as valid RCPT TO lines.

4. SET UP A RUN CONTROL FILE

See the man page or the file sample.rcfile for a description of how to
configure your individual preferences.

Note: if you have been using popclient (the ancestor of this program)
at version 3.0b6 or later, do this

(cd ~; mv ~/.poprc ~/.fetchmailrc)

in order to migrate.  Be aware that some of popclient's unnecessary
options have been removed (see the NOTES file for explanation).  You
can't deliver to a local mail file anymore or to standard output any
more, and using an MDA for delivery is discouraged.  If you throw
those options away, fetchmail will now forward your mail into your
system's normal Internet-mail delivery path.

If you use an MDA with popclient or an older version of fetchmail that
requires %s in the MDA string in order to substitute in a local
delivery address, remove it.  One consequences of the internal changes
to support multi-drop mailboxes is that local delivery addresses will
be appended to the end of the command in the obvious way.

Actually, using an MDA is now almost always the wrong thing; the MDA
facility has been retained only for people who can't or won't run a
sendmail-like SMTP listener on port 25. The default, SMTP forwarding
to port 25, is better for at least two major reasons.  One: it feeds
retrieved POP and IMAP mail into your system's normal delivery path
along with local mail and normal Internet mail.  Two: because the port
25 listener returns a positive acknowledge, fetchmail can be sure
you're not going to lose mail to a disk-full or some other
resource-exhaustion problem.

If you used to use -mda "procmail -d <you>" or something similar, forward
to port 25 and do "| procmail -d <you>" in your ~/.forward file.

5. TEST

I strongly recommend that your first fetchmail run use the -v and -k
options, in case there is something not quite right with your server,
your local delivery configuration or your port 25 listener.  Also,
beware of aliases that direct your local mail back to the server host!

This software is known to work with the qpop/popper series of
freeware POP3 servers; also with the imapd servers that are
distributed with Pine from the University of Washington.  Other
POP3 servers have been known to give it indigestion.  Test carefully!
If you have problems, try to switch to IMAP.

If you're going to use multi-drop mailboxes, test with particular care.
This code was very difficult to test and should be considered experimental.

6. USE IT

Enjoy!

