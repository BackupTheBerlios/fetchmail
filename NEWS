			To-do list:

At this point, the fetchmail code appears to be stable and free of
bugs affecting normal operation (that is, forwarding to SMTP from a
single server host).  It will probably undergo substantial change only
if and when support for a new retrieval protocol is added.

Test RPOP feature against a Unix server that has it.  The protocol
transactions are certainly OK, the question is whether the rresvport() 
authentication stuff does what's needed.

Support IMAP4 extensions for secure challenge-response, once they're actually
standardized.

Inflict severe pain on the person(s) responsible for removing LAST from POP3.

			Release Notes:

fetchmail-1.6 (Sun Oct  6 20:55:09 EDT 1996):

features --

* You can now have multiple entries for the same server but different
  users, and the right thing will happen (each user's mailbox will
  be queried).  Even better, you can now specify multiple users in a
  single server entry.

* Restore --mda, seems some people either can't run a port 25 listener
  due to bizarre dynamic-SLIP problems, or won't for security reasons.

* When delivering to an MDA, print error and die (before deleting the message!)
  if the MDA returns nonzero status.  Better safe than sorry.

* If fetchmail is called through a link named `popclient' it will look in
  ~/.poprc for a run control file.  Unless that file includes the deleted
  options limit and localfolder this should actually work.

bug fixes --

* Makefile fixes for correct linking on Sparcs and avoiding duplication of
  the md5 files (leading to harmless install-time error messages).

* Fix a bonehead coding error in pop3_delete() that was masked by the
  Intel register architecture.  *blush*  Thanks to Jay Anderson.

* Fix bug that prevented SMTP from being specified on the defaults line.

* Allow program to generate correct lockfiles when USER is undefined
  (i.e. under zsh).

* Allow program to run with no .fetchmailrc file again.

fetchmail-1.5 (Thu Oct  3 04:35:15 EDT 1996):

* Naturally, my decision to announce 1.4 on comp.os.linux.announce 
  immediately caused the code to manifest its first real bug --
  a core dump when the "From:" header is spelled "from:" (all lower
  case).  Fixed.

* Update and expansion of NOTES.

* The --all and --flush flag validity checks move to driver.c.

fetchmail-1.4 (Wed Oct  2 09:22:37 1996):

* More man page improvements.

* Lexer changes to work around bison's "feature" of silently ignoring 0-value
  tokens (caused options nokeep, norewrite, nofetchall, noskip to be no-ops).

fetchmail-1.3 (Tue Oct  1 05:49:49 1996):

* Significant man page improvements.

* Escapes for newlines in .fetchmailrc are now optional.

* Kill off -2 and -3 options, redundant popclient remnants.

* IMAP code simplification and robustification.  Use FETCH FLAGS to find
  seen messages.  Code should now work even if unseen messages are 
  interspersed with seen ones, and even if messages are appended to the
  mailbox during the run.

fetchmail-1.2 (Sat Sep 28 15:40:50 EDT 1996):

* The great option massacre.  Remove --stdout, --limit, --local, --mda.
  We get a significant code and complexity shrinkage this way (a lot of the
  configuration machinery goes away too).  These things are your MDA's job.
  (This also kills off the lose-mail-on-disk-full bug, which I've never 
  seen but two users reported.)

* Link APOP support by default.

* Fix embarrassing Makefile bug.

fetchmail-1.1 (Sat Sep 28 09:21:10 EDT 1996):

* In POP3, don't send LAST if STAT shows count of waiting messages to be zero.

* Document APOP better, we know it works now.

* Lose the .fetchids file and give up on POP3 UIDs, they're a dead loss.

fetchmail-1.0 (Thu Sep 26 11:59:38 EDT 1996):

* SMTP forwarding and header-rewrite features work with POP2 now.

* Stricter RFC822 conformance, so SMTP to qmail works.  Thanks to
  Cameron MacPherson <unsound@oz.net> for these changes.

* The program is quieter but more informative now (suppress printing of
  server greeting message; add the server host being queried to the
  message count information line).

* Add `skip' option to make it easier to set up test entries.

* Name change (it ain't just for POP any more).

popclient-3.2 (Mon Sep 23 13:29:46 EDT 1996):

* RPOP support (coded at a user's request but untested).

* Ported to QNX (see the Makefile).

* Add Michael Schwendt's code for improved sizeticker.

* Improved RFC822 parsing (thanks to Rob Funk).

* Move the per-user lockfile to /tmp so it gets cleared at reboot time.

* Warn users that running concurrent instances of popclient is a bad idea.

* Try USER and HOME to set defaults before going to the password file.
  This should work better in Sun NIS environments.

popclient-3.1 (Thu Sep 12 15:45:25 EDT 1996):

* MDA arguments are now dumped when using the -V option.

* Sendmail delivery from background seems to work now.

* We have IMAP2bis/IMAP4 support.

* Code now autoprobes for a POP3, IMAP, or POP2 server if no protocol is
  specified.

* SMTP forwarding support.  Thanks to Harry Hochheiser <harry@tigger.jvnc.net>
  for this simple but clever idea.  It's now the default delivery mode.

* If no UNIX From line is found, popclient will now synthesize a correct
  line from the RFC822 From line.

* It is now possible to specify the host TCP/IP port number to connect to.

popclient-3.05 (Thu Aug 22 22:59:04 EDT 1996):

* Experimental support for RFC1725-compliant POP servers with the UIDL
  command and without LAST.

popclient-3.04 (Wed Aug 21 00:22:44 EDT 1996):

* Logfile option works.

popclient-3.03:

* Minor bug fixes for password querying and redirection to stdout.

popclient-3.02 (Fri Jul 19 11:37:56 EDT 1996):

* Correct buggy processing of nokeep/noflush/fetchall.

* Fix buggy -mda option processing.

* Added -N/--norewrite option.

* Delivery via sendmail now works in non-daemon mode.

popclient-3.01 (Mon Jul  1 13:33:51 EDT 1996):

* Fixed a lexical analyzer bug in quoted-string processing.

* Fixed a bug in dump_options that caused username to be displayed incorrectly.

* The lock assertion code was in the wrong place relative to the daemonize()
  call.  

popclient-3.0 (Fri Jun 28 11:33:34 EDT 1996):

Eric S. Raymond <esr@thyrsus.com> hacked extensively on 3.0b6 and took over
the package with the consent of Carl Harris, the original implementor.
Some of the 3.0 feature additions were inspired by Sean Oh's fetchpop 1.8
code, and a few use code directly lifted from fetchpop. Here are my (Eric's)
change notes:

CONFIGURATION AND BUILDING

* The autoconfigure script incorrectly assumed that all Linuxes use
  /usr/bin/deliver.  Under Linux it now checks for both /usr/bin/delivermail
  and /bin/mail.

* I added a distribution-maker production to Makefile.in.

OPTIONS AND COMMAND LINE

* I have removed the -p command-line option. Given that there's a run control
  facility there is no excuse for encouraging users to put plaintext passwords
  in scripts which might be readable.

* Calling popclient with no arguments now causes it to query or operate
  on every host in the run control file.

* I have made --version more useful by having it dump the computed
  connection options for each server specified.

* The user can now explicitly set an MDA (such as procmail) with the
  new option -m or -mda.  Various possible MDAs are listed on the man page.

POPRC FILE SYNTAX

* The run control file lexer now supports "-enclosed strings which may 
  contain whitespace.

* I added a --yydebug option to enable run control parser debugging at 
  runtime if the parser was generated with --debug.  It's not documented.

* You may now have a `defaults' entry in the run control file which sets 
  overrideable values for other entries.  See the man page for details.

* It is now possible to set keep, flush and fetchall in your run control
  file.

* Fixed incorrect numbering of source lines in run control file parse error
  messages.

* The configure.in specification no longer uses the obsolete AC_TRY_COMPILE
  macro (it uses AC_TRY_LINK instead).

MAILBOX LOCKING

* I have added mandatory locking of mailbox files where supported.
  This will cover Linux systems, in particular.

* The default behavior is now to do lock-protected append on the user's
  system mailbox rather than using delivermail or some other MDA.
  (This is a performance hack.)

* The autoconfigure script now looks for standard mail locations.  The
  default mail delivery agent is used only if it can't find a mail spool
  directory in the standard places.

FUNCTIONAL ENHANCEMENTS

* When using POP3, message headers are edited so that replies won't foo up.
  Anything that looks like a mail ID local to the POP host gets @ and the
  pop servername attached to it before being appended to the user's
  mailbox or passed to an MDA.

* I have implemented daemon mode.

* I have added a lock check to ensure that there is only one popclient
  running per user, and a --quit option to kill the currently running
  one.

DOCUMENTATION

* All changes and feature additions have been tested in actual use and are
  documented on the man page.

* I have turned the comments in the sample run control file into a new manual
  section documenting the file format.

MISCELLANEOUS BUG FIXES

* I fixed some de-initialization bugs in pop2.c and pop3.c that led to
  fd leaks (these became painfully obvious when I tested daemon mode!).

* I've fixed the flaky parser error messages. They turned out to be due 
  to a misdeclaration of yytext.

These are Carl Harris's change notes from previous releases:

3.0b5
o	"From " header fix in pop2.c and pop3.c
o	Surpress "..." output when --stdout option specified in pop3.c

3.0b4
o	alloca fix.
o	various diagnostic/informational message fixes.

3.0b3
o	Support for retrieving only new messages from maildrop when
	using POP3.  
o	Support for retrieving only the first n lines of each message
	when using POP3.
o	APOP authentication support.
o	Buffered socket input.

3.0b2
	This is a "new features" release.
o	support for .poprc file.
o	GNU-style long options.
o	fixed passwords appearing in 'ps' output
o	support for multiple servers on one command line

3.0b1
	This is mostly a test of the autoconfigure integration.
Among the functions performed by the new configure script, is
the ability to detect known system types, configures the mail
delivery agent (MDA) correctly.  This should permanently solve
the problem of using something other than an MDA for mail
delivery (which continues to plague Linux slackware 1.2.9).
For this beta, please check the values of MDA_PATH and MDA_ARGS
carefully.  They should match the values found in your
sendmail.cf file on the line which begins with "Mlocal".

	Other changes from popclient version 2.21:

o       no longer uses getpass() from the C library.  The
	internal getpassword() function allows the use of long
	passwords.

o	integrated GNU getopt() for long options.  Long option	
	names will appear in a future beta.

o	Several compiler warnings fixed.

o	Fixed problems related to missing include files in
	Solaris port.
